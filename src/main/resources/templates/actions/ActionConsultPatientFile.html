<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>HMS-PMS</title>
</head>
<body>
<h1>Consult Patient File</h1>

<form th:action="@{/actions/consult-patient-file}" th:object="${consultPatientFileForm}" method="post">
    <table>
        <tr>
            <td><label for="staffId">Staff ID:</label></td>
            <td><input type="text" id="staffId" th:field="*{staffId}" required></td>
        </tr>

        <tr>
            <td><label for="patientId">Patient ID:</label></td>
            <td><input type="text" id="patientId" th:field="*{patientId}" required></td>
        </tr>

        <tr>
            <td colspan="2" style="text-align: center;"><button type="submit">Consult Patient File</button></td>
        </tr>
        <tr>
            <td colspan="2" style="text-align: center;">
                <input type="button" value="Return" onclick="window.location.href='/'">
            </td>
        </tr>
    </table>

    <table th:if="${successMessage != null}">
        <tr>
            <th colspan="2" style="text-align: center;">Patient Information</th>
        </tr>
        <tr>
            <td><strong>Patient Number:</strong></td>
            <td th:text="${patientInfo.patientNumber}"></td>
        </tr>
        <tr>
            <td><strong>Medical Staff ID:</strong></td>
            <td th:text="${patientInfo.medicalStaffId}"></td>
        </tr>
        <tr>
            <td><strong>Insurance Number:</strong></td>
            <td th:text="${patientInfo.insuranceNumber}"></td>
        </tr>
        <tr>
            <td><strong>First Name:</strong></td>
            <td th:text="${patientInfo.firstName}"></td>
        </tr>
        <tr>
            <td><strong>Last Name:</strong></td>
            <td th:text="${patientInfo.lastName}"></td>
        </tr>
        <tr>
            <td><strong>Address:</strong></td>
            <td th:text="${patientInfo.address}"></td>
        </tr>

        <tr>
            <th colspan="2" style="text-align: center;">Next of Kin Information</th>
        </tr>
        <tr>
            <td><strong>Next of Kin Name:</strong></td>
            <td th:text="${patientInfo.constituentFile.firstName}"></td>
        </tr>
        <tr>
            <td><strong>Next of Kin Phone:</strong></td>
            <td th:text="${patientInfo.constituentFile.telephoneNumber}"></td>
        </tr>
    </table>
</form>
</body>
</html>
